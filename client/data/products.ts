// // export type Product = {
// //   id: string;
// //   name: string;
// //   image: string;
// //   images?: string[];
// //   collection: "Eid Collection" | "Bakra Eid Specials" | "14 August Independence Collection" | "Birthday Specials";
// //   total_reviews: number;
// //   average_rating: number;
// //   S_price: number;
// //   M_price: number;
// //   L_price: number;
// //   S_stock: number;
// //   M_stock: number;
// //   L_stock: number;
// //   kids: boolean;
// // };

// // export const PRODUCTS: Product[] = [
// //   {
// //     id: "eid-1",
// //     name: "Eid Bloom Kurta",
// //     image: "https://images.unsplash.com/photo-1541099649105-f69ad21f3246?q=80&w=1200&auto=format&fit=crop",
// //     images: [
// //       "https://images.unsplash.com/photo-1541099649105-f69ad21f3246?q=80&w=1200&auto=format&fit=crop",
// //       "https://images.unsplash.com/photo-1541099649105-f69ad21f3246?q=80&w=1000&auto=format&fit=crop"
// //     ],
// //     collection: "Eid Collection",
// //     total_reviews: 61,
// //     average_rating: 4.8,
// //     S_price: 6990,
// //     M_price: 7190,
// //     L_price: 7390,
// //     S_stock: 10,
// //     M_stock: 15,
// //     L_stock: 5,
// //     kids: true
// //   },
// //   {
// //     id: "eid-2",
// //     name: "Henna Night Set",
// //     image: "https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?q=80&w=1200&auto=format&fit=crop",
// //     images: [
// //       "https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?q=80&w=1200&auto=format&fit=crop",
// //       "https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?q=80&w=1000&auto=format&fit=crop"
// //     ],
// //     collection: "Eid Collection",
// //     total_reviews: 41,
// //     average_rating: 4.7,
// //     S_price: 8990,
// //     M_price: 9190,
// //     L_price: 9390,
// //     S_stock: 8,
// //     M_stock: 12,
// //     L_stock: 3,
// //     kids: false
// //   },
// //   {
// //     id: "bakra-1",
// //     name: "Bakra Eid Pastels",
// //     image: "https://images.unsplash.com/photo-1512436991641-6745cdb1723f?q=80&w=1200&auto=format&fit=crop",
// //     images: [
// //       "https://images.unsplash.com/photo-1512436991641-6745cdb1723f?q=80&w=1200&auto=format&fit=crop",
// //       "https://images.unsplash.com/photo-1512436991641-6745cdb1723f?q=80&w=1000&auto=format&fit=crop"
// //     ],
// //     collection: "Bakra Eid Specials",
// //     total_reviews: 33,
// //     average_rating: 4.6,
// //     S_price: 7490,
// //     M_price: 7690,
// //     L_price: 7890,
// //     S_stock: 7,
// //     M_stock: 10,
// //     L_stock: 4,
// //     kids: true
// //   },
// //   {
// //     id: "pak-1",
// //     name: "Azadi Green Dress",
// //     image: "https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?q=80&w=1200&auto=format&fit=crop",
// //     images: [
// //       "https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?q=80&w=1200&auto=format&fit=crop",
// //       "https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?q=80&w=1000&auto=format&fit=crop"
// //     ],
// //     collection: "14 August Independence Collection",
// //     total_reviews: 28,
// //     average_rating: 4.5,
// //     S_price: 6590,
// //     M_price: 6790,
// //     L_price: 6990,
// //     S_stock: 9,
// //     M_stock: 11,
// //     L_stock: 6,
// //     kids: true
// //   },
// //   {
// //     id: "bday-1",
// //     name: "Birthday Confetti Frock",
// //     image: "https://images.unsplash.com/photo-1530968464161-8f0b4ef9c583?q=80&w=1200&auto=format&fit=crop",
// //     images: [
// //       "https://images.unsplash.com/photo-1530968464161-8f0b4ef9c583?q=80&w=1200&auto=format&fit=crop",
// //       "https://images.unsplash.com/photo-1530968464161-8f0b4ef9c583?q=80&w=1000&auto=format&fit=crop"
// //     ],
// //     collection: "Birthday Specials",
// //     total_reviews: 72,
// //     average_rating: 4.9,
// //     S_price: 5590,
// //     M_price: 5790,
// //     L_price: 5990,
// //     S_stock: 0,
// //     M_stock: 0,
// //     L_stock: 0,
// //     kids: true
// //   },
// //   {
// //     id: "bday-2",
// //     name: "Hand-painted Bow Dress",
// //     image: "https://images.unsplash.com/photo-1515187029135-18ee286d815b?q=80&w=1200&auto=format&fit=crop",
// //     images: [
// //       "https://images.unsplash.com/photo-1515187029135-18ee286d815b?q=80&w=1200&auto=format&fit=crop",
// //       "https://images.unsplash.com/photo-1515187029135-18ee286d815b?q=80&w=1000&auto=format&fit=crop"
// //     ],
// //     collection: "Birthday Specials",
// //     total_reviews: 19,
// //     average_rating: 4.7,
// //     S_price: 6290,
// //     M_price: 6490,
// //     L_price: 6690,
// //     S_stock: 0,
// //     M_stock: 2,
// //     L_stock: 0,
// //     kids: true
// //   },
// // ];

// // export const COLLECTIONS = [
// //   "Eid Collection",
// //   "Bakra Eid Specials",
// //   "14 August Independence Collection",
// //   "Birthday Specials",
// // ] as const;

// // export const SIZES = ["S", "M", "L"] as const;







// export type Product = {
//   id: string;
//   name: string;
//   image: string;
//   images?: string[];
//   collection: "Eid Collection" | "Bakra Eid Specials" | "14 August Independence Collection" | "Birthday Specials";
//   total_reviews: number;
//   average_rating: number;
//   S_price: number;
//   M_price: number;
//   L_price: number;
//   S_stock: number;
//   M_stock: number;
//   L_stock: number;
//   kids: boolean;
// };

// export let PRODUCTS: Product[] = [];

// async function fetchProducts() {
//   try {
//     const response = await fetch('http://127.0.0.1:8000/products');
//     if (!response.ok) {
//       throw new Error('Failed to fetch products');
//     }
//     const data: Product[] = await response.json();
//     PRODUCTS = data;
//   } catch (error) {
//     console.error('Error fetching products:', error);
//     PRODUCTS = [];
//   }
// }

// fetchProducts();

// export const COLLECTIONS = [
//   "Eid Collection",
//   "Bakra Eid Specials",
//   "14 August Independence Collection",
//   "Birthday Specials",
// ] as const;

// export const SIZES = ["S", "M", "L"] as const;














































export type Product = {
  id: string;
  name: string;
  image: string;
  images?: string[];
  collection: "Eid Collection" | "Bakra Eid Specials" | "14 August Independence Collection" | "Birthday Specials";
  total_reviews: number;
  average_rating: number;
  S_price: number;
  M_price: number;
  L_price: number;
  S_stock: number;
  M_stock: number;
  L_stock: number;
  kids: boolean;
};

export let PRODUCTS: Product[] = [];

async function fetchProducts() {
  try {
    const response = await fetch('http://127.0.0.1:8000/products');
    if (!response.ok) {
      throw new Error('Failed to fetch products');
    }
    const data: Product[] = await response.json();
    PRODUCTS = data;
    try {
      window.dispatchEvent(new CustomEvent("products:change"));
    } catch (error) {
      console.error("Error dispatching products:change event:", error);
    }
  } catch (error) {
    console.error('Error fetching products:', error);
    PRODUCTS = [];
  }
}

fetchProducts();

export const COLLECTIONS = [
  "Eid Collection",
  "Bakra Eid Specials",
  "14 August Independence Collection",
  "Birthday Specials",
] as const;

export const SIZES = ["S", "M", "L"] as const;